function writeNewScore(a,b){var c={username:a,score:b},d=firebase.database().ref().child("users").push().key,e={};return e["/users/"+d]=c,firebase.database().ref().update(e)}function blueAnimation(a){return anime({targets:a,translateX:path2,translateY:path2,rotate:{value:2040,duration:12e3,easing:"easeInOutQuad"},scale:{value:.5,duration:12e3,easing:"easeOutBounce"},duration:12e3,loop:!0,easing:"linear",autoplay:!1})}function redAnimation(a){return anime({targets:a,translateX:path3,translateY:path3,rotate:{value:1020,duration:8e3,easing:"easeInOutQuad"},scale:{value:2,duration:8e3,easing:"easeOutBounce"},duration:8e3,loop:!0,easing:"linear",autoplay:!1})}function greenAnimation(a){return anime({targets:a,translateX:path4,translateY:path4,rotate:{value:2040,duration:6e3,easing:"easeInOutQuad"},scale:{value:4,duration:6e3,easing:"easeOutBounce"},duration:6e3,loop:!0,easing:"linear",autoplay:!1})}function yellowAnimation(a){return anime({targets:a,translateX:path,translateY:path,rotate:{value:180,duration:1e4,easing:"easeInOutQuad"},scale:{value:.05,duration:1e4,easing:"easeOutBounce"},duration:1e4,loop:!0,easing:"linear",autoplay:!1})}function isFalse(a,b,c){return 0==a.check}function click(a,b){clicked[a].check?(clicked[a].check=!1,clicked[a].number++,b.pause(),clicked[a].number<2&&(score+=10),$("#score").html(score.toString()),clicked.every(isFalse)&&(writeNewScore(currentUser,score),alert("You did it! You're score is "+score),window.location.href="https://www.paulvanmotman.com/game/index.html")):(clicked[a].check=!0,b.play())}function generate_clickfunction(a,b){return function(){click(a,animations[b])}}var config={apiKey:"AIzaSyCbc50cjw_RxosvWlHYNried8p3FkCkJu8",authDomain:"klik-da5aa.firebaseapp.com",databaseURL:"https://klik-da5aa.firebaseio.com",storageBucket:"klik-da5aa.appspot.com",messagingSenderId:"345960366975"};firebase.initializeApp(config);var database=firebase.database();firebase.database().ref("/users/").once("value").then(function(a){var b=a.val();for(var c in b)b.hasOwnProperty(c)&&$("#highscores").append("<p>"+b[c].username+": "+b[c].score+"</p>")});for(var path=anime.path("#path1"),path2=anime.path("#path2"),path3=anime.path("#path3"),path4=anime.path("#path4"),score=100,topScore={users:[],scores:[]},currentUser,clicked=[],i=15;i>=0;i--)clicked[i]={check:!1,number:0};animations=[blueAnimation("#a"),redAnimation("#b"),greenAnimation("#c"),yellowAnimation("#d"),blueAnimation("#e"),redAnimation("#f"),greenAnimation("#g"),yellowAnimation("#h"),blueAnimation("#i"),redAnimation("#j"),greenAnimation("#k"),yellowAnimation("#l"),blueAnimation("#m"),redAnimation("#n"),greenAnimation("#o"),yellowAnimation("#p")],selectors=["#a","#b","#c","#d","#e","#f","#g","#h","#i","#j","#k","#l","#m","#n","#o","#p"],$("#start").submit(function(a){for(var b=animations.length-1;b>=0;b--)$(selectors[b]).click(generate_clickfunction(b,b));a.preventDefault(),$("#button").attr("disabled","disabled"),currentUser=$("#username").val();for(var b=animations.length-1,c=6400;c>=400;b--,c-=400)setTimeout(generate_clickfunction(b,b),c);$("#score").html("100"),setInterval(function(){score--,$("#score").html(score.toString()),0==score&&(alert("Game over!"),$("#container").hide(),window.location.href="https://www.paulvanmotman.com/game/index.html")},1e3)});